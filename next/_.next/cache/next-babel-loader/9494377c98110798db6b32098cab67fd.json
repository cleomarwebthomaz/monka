{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Container, Card } from 'react-bootstrap';\nimport Slider from \"react-slick\";\nimport Products from './components/ProductCategories/Products';\nimport NextArrow from './components/ProductCategories/components/NextArrow';\nimport PrevArrow from './components/ProductCategories/components/PrevArrow';\nimport { get } from '../services/http';\nimport './styles.scss';\n\nfunction Home(props) {\n  var _useState = useState({}),\n      categoryActive = _useState[0],\n      setCategoryActive = _useState[1];\n\n  var categories = props.categories;\n  var settings = {\n    dots: true,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 5,\n    slidesToScroll: 5,\n    nextArrow: __jsx(NextArrow, null),\n    prevArrow: __jsx(PrevArrow, null),\n    responsive: [{\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        infinite: true,\n        dots: true\n      }\n    }, {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2,\n        initialSlide: 2\n      }\n    }, {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }]\n  };\n  useEffect(function () {\n    if (categories && !categoryActive.id) {\n      categories[0].category_selected = true;\n      setCategoryActive(categories[0]);\n    }\n  }, []);\n\n  function selectCategory(category) {\n    if (category.products.length <= 0) return;\n    categories.map(function (cat) {\n      return cat.category_selected = false;\n    });\n    category.category_selected = true;\n    setCategoryActive(category);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"navCategories mt-1 pt-4 pb-4\"\n  }, __jsx(Container, null, __jsx(\"h6\", {\n    className: \"question\"\n  }, \"O que deseja pedir hoje?\"), __jsx(Slider, settings, categories.map(function (category) {\n    return __jsx(Card, {\n      key: category.id,\n      className: \"card text-center \".concat(category.category_selected === true ? ' selected ' : '', \" \\n                                    \").concat(category.__meta__.products_count <= 0 ? 'inactive' : 'active'),\n      onClick: function onClick() {\n        return selectCategory(category);\n      }\n    }, __jsx(Card.Img, {\n      variant: \"top\",\n      src: category.image_url\n    }), __jsx(Card.Body, null, __jsx(Card.Title, null, category.name, \" \", \" (\", category.__meta__.products_count, \")\")));\n  })))), __jsx(Container, null, categoryActive && __jsx(Products, _extends({\n    products: categoryActive.products\n  }, props))));\n}\n\nHome.getInitialProps = function _callee(ctx) {\n  var categories;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(get('/category'));\n\n        case 2:\n          categories = _context.sent;\n          return _context.abrupt(\"return\", {\n            categories: categories\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}