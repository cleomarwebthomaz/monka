{"ast":null,"code":"var _jsxFileName = \"/Users/webthomaz/Desktop/Desenvolvimento/m/monka/nps/monka-api/next/components/Cart/Voucher/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { ButtonGroup, ListGroup, Form, Spinner, Row, Col, Image, Card, Button } from 'react-bootstrap';\n\nfunction VoucherForm() {\n  return __jsx(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    className: \"mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, __jsx(InputGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, __jsx(InputGroup.Prepend, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, __jsx(InputGroup.Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"@\")), __jsx(Form.Control, {\n    value: props.values.code,\n    onChange: e => props.setFieldValue('code', e.target.value),\n    placeholder: \"Cupom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  })), props.touched.code && props.errors.code && __jsx(Form.Control.Feedback, {\n    type: \"invalid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, props.errors.code)));\n}\n\nexport default withFormik({\n  mapPropsToValues: props => ({\n    code: ''\n  }),\n  validationSchema: Yup.object().shape({\n    code: Yup.string().required('Informe o código do cupom')\n  }),\n  handleSubmit: async (values, {\n    setSubmitting,\n    setErrors,\n    props,\n    setStatus\n  }) => {\n    try {\n      setSubmitting(true);\n      const result = await post(`/cart/addVoucher`, values);\n\n      if (result.success) {\n        setSubmitting(false);\n        setStatus({\n          success: true,\n          data: result\n        });\n      } else {\n        setSubmitting(false);\n        setErrors({\n          error: 'E-mail ou senha inválidos'\n        });\n      }\n    } catch (error) {\n      setErrors({\n        error: 'E-mail ou senha inválidos'\n      });\n    }\n  }\n})(VoucherForm);","map":{"version":3,"sources":["/Users/webthomaz/Desktop/Desenvolvimento/m/monka/nps/monka-api/next/components/Cart/Voucher/index.js"],"names":["ButtonGroup","ListGroup","Form","Spinner","Row","Col","Image","Card","Button","VoucherForm","props","values","code","e","setFieldValue","target","value","touched","errors","withFormik","mapPropsToValues","validationSchema","Yup","object","shape","string","required","handleSubmit","setSubmitting","setErrors","setStatus","result","post","success","data","error"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,IAAjC,EAAuCC,OAAvC,EAAgDC,GAAhD,EAAqDC,GAArD,EAA0DC,KAA1D,EAAiEC,IAAjE,EAAuEC,MAAvE,QAAqF,iBAArF;;AAEA,SAASC,WAAT,GAAuB;AAEnB,SACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD,CAAY,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD,CAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,CADJ,EAII,MAAC,IAAD,CAAM,OAAN;AACI,IAAA,KAAK,EAAEC,KAAK,CAACC,MAAN,CAAaC,IADxB;AAEI,IAAA,QAAQ,EAAEC,CAAC,IAAIH,KAAK,CAACI,aAAN,CAAoB,MAApB,EAA4BD,CAAC,CAACE,MAAF,CAASC,KAArC,CAFnB;AAGI,IAAA,WAAW,EAAC,OAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ,EAWKN,KAAK,CAACO,OAAN,CAAcL,IAAd,IAAsBF,KAAK,CAACQ,MAAN,CAAaN,IAAnC,IACG,MAAC,IAAD,CAAM,OAAN,CAAc,QAAd;AAAuB,IAAA,IAAI,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuCF,KAAK,CAACQ,MAAN,CAAaN,IAApD,CAZR,CAFJ,CADJ;AAsBH;;AAED,eAAeO,UAAU,CAAC;AACxBC,EAAAA,gBAAgB,EAAEV,KAAK,KAAK;AACxBE,IAAAA,IAAI,EAAE;AADkB,GAAL,CADC;AAKxBS,EAAAA,gBAAgB,EAAEC,GAAG,CAACC,MAAJ,GAAaC,KAAb,CAAmB;AACnCZ,IAAAA,IAAI,EAAEU,GAAG,CAACG,MAAJ,GAAaC,QAAb,CAAsB,2BAAtB;AAD6B,GAAnB,CALM;AASxBC,EAAAA,YAAY,EAAE,OAAOhB,MAAP,EAAe;AAAEiB,IAAAA,aAAF;AAAiBC,IAAAA,SAAjB;AAA4BnB,IAAAA,KAA5B;AAAmCoB,IAAAA;AAAnC,GAAf,KAAkE;AAC5E,QAAI;AACFF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACA,YAAMG,MAAM,GAAG,MAAMC,IAAI,CAAE,kBAAF,EAAqBrB,MAArB,CAAzB;;AAEA,UAAIoB,MAAM,CAACE,OAAX,EAAoB;AAChBL,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,QAAAA,SAAS,CAAC;AAAEG,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEH;AAAvB,SAAD,CAAT;AACH,OAHD,MAGO;AACHH,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAC,QAAAA,SAAS,CAAC;AAAEM,UAAAA,KAAK,EAAE;AAAT,SAAD,CAAT;AACH;AAEF,KAZD,CAYE,OAAMA,KAAN,EAAa;AACXN,MAAAA,SAAS,CAAC;AAAEM,QAAAA,KAAK,EAAE;AAAT,OAAD,CAAT;AACH;AACJ;AAzBuB,CAAD,CAAV,CA2BZ1B,WA3BY,CAAf","sourcesContent":["import { ButtonGroup, ListGroup, Form, Spinner, Row, Col, Image, Card, Button } from 'react-bootstrap';\n\nfunction VoucherForm() {\n    \n    return (\n        <Form>\n\n            <Form.Group className=\"mt-4\">\n                <InputGroup>\n                    <InputGroup.Prepend>\n                        <InputGroup.Text>@</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control \n                        value={props.values.code}\n                        onChange={e => props.setFieldValue('code', e.target.value)}\n                        placeholder=\"Cupom\"\n                    />\n                </InputGroup>\n                {props.touched.code && props.errors.code && \n                    <Form.Control.Feedback type=\"invalid\">{props.errors.code}</Form.Control.Feedback>\n                }\n            </Form.Group>\n        \n        </Form>\n    )\n\n}\n\nexport default withFormik({\n  mapPropsToValues: props => ({ \n      code: '',\n    }),\n\n  validationSchema: Yup.object().shape({\n    code: Yup.string().required('Informe o código do cupom'),\n  }),\n\n  handleSubmit: async (values, { setSubmitting, setErrors, props, setStatus }) => {\n      try {\n        setSubmitting(true);\n        const result = await post(`/cart/addVoucher`, values);\n\n        if (result.success) {\n            setSubmitting(false);\n            setStatus({ success: true, data: result });\n        } else {\n            setSubmitting(false);\n            setErrors({ error: 'E-mail ou senha inválidos' });\n        }\n\n      } catch(error) {\n          setErrors({ error: 'E-mail ou senha inválidos' });\n      }\n  },\n\n})(VoucherForm);\n\n"]},"metadata":{},"sourceType":"module"}