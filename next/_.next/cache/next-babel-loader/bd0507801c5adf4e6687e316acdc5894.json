{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/webthomaz/Desktop/Desenvolvimento/m/monka/monka-api/next/pages/components/ProducItem/show.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Modal, Button, Image, ListGroup } from \"react-bootstrap\";\nimport { useState } from \"react\";\nexport default function (props) {\n  var show = props.show,\n      setShow = props.setShow,\n      product = props.product;\n\n  var _useState = useState(props.product.quantity || 1),\n      quantity = _useState[0],\n      setQuantity = _useState[1];\n\n  var _useState2 = useState(props.basePrice),\n      basePrice = _useState2[0],\n      setBasePrice = _useState2[1];\n\n  function updateProductPrices(base) {\n    var total = 0;\n\n    if (base) {\n      setBasePrice(base);\n    } else {\n      base = basePrice;\n    }\n\n    if (product.groups.length > 0) {\n      for (var i in product.groups) {\n        var group = product.groups[i];\n\n        for (var key in group.options) {\n          var option = group.options[key];\n\n          if (option.quantity > 0) {\n            var totalOptionPrice = option.price * option.quantity;\n            total = total += totalOptionPrice;\n          }\n        }\n      }\n    }\n\n    var totalPrice = (base + total) * quantity;\n    setTotalPrice(totalPrice);\n  }\n\n  var handleClose = function handleClose() {\n    setShow(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    show: show,\n    onHide: handleClose,\n    animation: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Modal.Header, {\n    closeButton: true,\n    className: \"border-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), __jsx(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(Image, {\n    src: product.image_url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, product.name), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, product.description), product.options && __jsx(ListGroup, {\n    className: \"options mt-4\",\n    horizontal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, product.options.map(function (option) {\n    return __jsx(ListGroup.Item, {\n      key: option.id,\n      active: option.selected,\n      onClick: function onClick() {\n        product.options.map(function (op) {\n          return op.selected = false;\n        });\n        option.selected = true;\n        setBasePrice(option.price);\n        setProduct(function () {\n          return _objectSpread({}, product, {}, product);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, option.name);\n  }))), __jsx(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Close\"), __jsx(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Save Changes\"))));\n}","map":{"version":3,"sources":["/Users/webthomaz/Desktop/Desenvolvimento/m/monka/monka-api/next/pages/components/ProducItem/show.js"],"names":["Modal","Button","Image","ListGroup","useState","props","show","setShow","product","quantity","setQuantity","basePrice","setBasePrice","updateProductPrices","base","total","groups","length","i","group","key","options","option","totalOptionPrice","price","totalPrice","setTotalPrice","handleClose","image_url","name","description","map","id","selected","op","setProduct"],"mappings":"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","sourcesContent":["import { Modal, Button, Image, ListGroup } from \"react-bootstrap\";\nimport { useState } from \"react\";\n\nexport default function(props) {\n    const {show, setShow, product } = props;\n    const [quantity, setQuantity] = useState(props.product.quantity || 1);\n    const [basePrice, setBasePrice] = useState(props.basePrice);\n\n    function updateProductPrices(base) {\n        let total = 0;\n        \n        if (base) {\n            setBasePrice(base);\n        } else {\n            base = basePrice;\n        }\n\n        if (product.groups.length > 0) {\n            for (let i in product.groups) {\n                const group = product.groups[i];\n                for (let key in group.options) {\n                    const option = group.options[key];\n                    if (option.quantity > 0) {\n                        const totalOptionPrice = option.price * option.quantity;\n                        total = total += totalOptionPrice;\n                    }\n                }\n            }\n        }\n\n        const totalPrice = (base + total) * quantity ;\n        \n        setTotalPrice(totalPrice);\n    }\n\n    const handleClose = () => {\n        setShow(false);\n    }\n\n    return (\n        <>\n       <Modal show={show} onHide={handleClose} animation={false}>\n        <Modal.Header closeButton className=\"border-0\" />\n\n        <Modal.Body>\n            <Image src={product.image_url} />\n\n            <h3>{product.name}</h3>\n            <p>{product.description}</p>\n\n            {product.options && \n                <ListGroup className=\"options mt-4\" horizontal>\n                    {product.options.map(option =>\n                        <ListGroup.Item \n                            key={option.id} \n                            active={option.selected}\n                            onClick={() => {\n                                product.options.map(op => op.selected = false);\n                                option.selected = true;\n                                setBasePrice(option.price);\n                                setProduct(() => ({...product, ...product}));\n                            }}\n                        >\n                            {option.name}\n                        </ListGroup.Item>\n                    )}\n                </ListGroup>\n            }\n\n\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={handleClose}>\n            Save Changes\n          </Button>\n        </Modal.Footer>\n      </Modal>   \n\n      </>     \n    );\n    \n}\n  \n"]},"metadata":{},"sourceType":"module"}