{"ast":null,"code":"import * as authActions from '../types/auth';\nimport nextCookie from 'next-cookies';\nimport cookie from \"js-cookie\";\nexport const authLogout = function () {\n  return async dispatch => {\n    const token = cookie.remove('token');\n    const user = cookie.remove('user');\n    dispatch({\n      type: authActions.LOGOUT\n    });\n  };\n};\nexport const loginStorage = function () {\n  return async dispatch => {\n    const token = cookie.get('token');\n    const user = cookie.get('user');\n\n    if (user && token) {\n      dispatch({\n        type: authActions.SET_USER,\n        payload: JSON.parse(user)\n      });\n      dispatch({\n        type: authActions.SET_TOKEN,\n        payload: token\n      });\n    }\n\n    dispatch({\n      type: authActions.SET_LOADED,\n      payload: true\n    });\n  };\n};\nexport const setUser = function (data) {\n  return async dispatch => {\n    if (data.token) {\n      cookie.set('token', data.token);\n    }\n\n    cookie.set('user', JSON.stringify(data.user));\n    dispatch({\n      type: authActions.SET_USER,\n      payload: data.user\n    });\n    dispatch({\n      type: authActions.SET_LOADED,\n      payload: true\n    });\n  };\n};\nexport const setUserData = function (data) {\n  return async dispatch => {\n    cookie.set('user', JSON.stringify(data));\n    dispatch({\n      type: authActions.SET_USER,\n      payload: data\n    });\n  };\n};\nexport const setToken = function (token) {\n  return async dispatch => {\n    cookie.set('token', token);\n    dispatch({\n      type: authActions.SET_TOKEN,\n      payload: token\n    });\n  };\n};\nexport const logout = () => {\n  return async dispatch => {\n    cookie.remove('token');\n    cookie.remove('user');\n    dispatch({\n      type: authActions.LOGOUT\n    });\n  };\n};","map":{"version":3,"sources":["/Users/webthomaz/Desktop/Desenvolvimento/m/monka/nps/monka-api/next/store/actions/auth.js"],"names":["authActions","nextCookie","cookie","authLogout","dispatch","token","remove","user","type","LOGOUT","loginStorage","get","SET_USER","payload","JSON","parse","SET_TOKEN","SET_LOADED","setUser","data","set","stringify","setUserData","setToken","logout"],"mappings":"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","sourcesContent":["import * as authActions from '../types/auth';\nimport nextCookie from 'next-cookies';\nimport cookie from \"js-cookie\";\n\nexport const authLogout = function() {\n    return async dispatch => {\n        const token = cookie.remove('token');\n        const user = cookie.remove('user');\n        dispatch({type: authActions.LOGOUT});\n    }\n}\n\nexport const loginStorage = function() {\n    return async dispatch => {\n\n        const token = cookie.get('token');\n        const user = cookie.get('user');\n\n        if (user && token) {\n            dispatch({ type: authActions.SET_USER, payload: JSON.parse(user) });\n            dispatch({ type: authActions.SET_TOKEN, payload: token });\n        }\n\n        dispatch({ type: authActions.SET_LOADED, payload: true });\n    }\n}\n\nexport const setUser = function(data) {\n    return async dispatch => {\n        if (data.token) {\n            cookie.set('token', data.token);\n        }\n\n        cookie.set('user', JSON.stringify(data.user));\n\n        dispatch({ type: authActions.SET_USER, payload: data.user });\n        dispatch({ type: authActions.SET_LOADED, payload: true });\n    }\n}\n\nexport const setUserData = function(data) {\n    return async dispatch => {\n        cookie.set('user', JSON.stringify(data));\n        dispatch({ type: authActions.SET_USER, payload: data });\n    }\n}\n\nexport const setToken = function(token) {\n    return async dispatch => {\n        cookie.set('token', token);\n        dispatch({ type: authActions.SET_TOKEN, payload: token });\n    }\n}\n\nexport const logout = () => {\n    return async dispatch => {\n        cookie.remove('token');\n        cookie.remove('user');\n        dispatch({type: authActions.LOGOUT});\n    }\n}"]},"metadata":{},"sourceType":"module"}