{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/webthomaz/Desktop/Desenvolvimento/m/monka/monka-api/next/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Container, Card } from 'react-bootstrap';\nimport Slider from \"react-slick\";\nimport Products from './components/ProductCategories/Products';\nimport './styles.scss';\nimport NextArrow from './components/ProductCategories/components/NextArrow';\nimport PrevArrow from './components/ProductCategories/components/PrevArrow';\nimport { get } from '../services/http';\n\nfunction Home(props) {\n  // const [categories, setCategories] = useState([]);\n  var _useState = useState({}),\n      categoryActive = _useState[0],\n      setCategoryActive = _useState[1];\n\n  var categories = props.categories;\n  var settingsCarousel = {\n    dots: true,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 5,\n    slidesToScroll: 5,\n    nextArrow: __jsx(NextArrow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }),\n    prevArrow: __jsx(PrevArrow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }),\n    responsive: [{\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        infinite: true,\n        dots: true\n      }\n    }, {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2,\n        initialSlide: 2\n      }\n    }, {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }]\n  };\n  useEffect(function () {\n    // async function fetchData() {\n    //     const { data } = await api.get(`/category`);\n    //     setCategories(data);\n    //     if (!categoryActive.id) {\n    //         data[0].category_selected = true;\n    //         setCategoryActive(data[0]);\n    //     }\n    // }\n    // fetchData();\n    if (categories && !categoryActive.id) {\n      categories[0].category_selected = true;\n      setCategoryActive(categories[0]);\n    }\n  }, []);\n\n  function selectCategory(category) {\n    if (category.products.length <= 0) return;\n    categories.map(function (cat) {\n      return cat.category_selected = false;\n    });\n    category.category_selected = true;\n    setCategoryActive(category);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"navCategories mt-1 pt-4 pb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(\"h6\", {\n    className: \"question\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"O que deseja pedir hoje?\"), __jsx(Slider, _extends({}, settingsCarousel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), categories.map(function (category) {\n    return __jsx(Card, {\n      key: category.id,\n      className: \"card text-center \".concat(category.category_selected === true ? ' selected ' : '', \" \\n                                    \").concat(category.__meta__.products_count <= 0 ? 'inactive' : 'active'),\n      onClick: function onClick() {\n        return selectCategory(category);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(Card.Img, {\n      variant: \"top\",\n      src: category.image_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), __jsx(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, __jsx(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, category.name, \" \", \" (\", category.__meta__.products_count, \")\")));\n  })))), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, categoryActive && __jsx(Products, {\n    products: categoryActive.products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })));\n}\n\nHome.getInitialProps = function _callee(ctx) {\n  var categories;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(get('/category'));\n\n        case 2:\n          categories = _context.sent;\n          return _context.abrupt(\"return\", {\n            categories: categories\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/webthomaz/Desktop/Desenvolvimento/m/monka/monka-api/next/pages/index.js"],"names":["useState","useEffect","Container","Card","Slider","Products","NextArrow","PrevArrow","get","Home","props","categoryActive","setCategoryActive","categories","settingsCarousel","dots","infinite","speed","slidesToShow","slidesToScroll","nextArrow","prevArrow","responsive","breakpoint","settings","initialSlide","id","category_selected","selectCategory","category","products","length","map","cat","__meta__","products_count","image_url","name","getInitialProps","ctx"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Container, Card } from 'react-bootstrap';\nimport Slider from \"react-slick\";\n\nimport Products from './components/ProductCategories/Products';\n\nimport './styles.scss';\nimport NextArrow from './components/ProductCategories/components/NextArrow';\nimport PrevArrow from './components/ProductCategories/components/PrevArrow';\nimport { get } from '../services/http';\n\nfunction Home(props) {\n    // const [categories, setCategories] = useState([]);\n    const [categoryActive, setCategoryActive] = useState({});\n\n    const { categories } = props;\n\n    var settingsCarousel = {\n        dots: true,\n        infinite: false,\n        speed: 500,\n        slidesToShow: 5,\n        slidesToScroll: 5,\n        nextArrow: <NextArrow />,\n        prevArrow: <PrevArrow />,\n        responsive: [\n            {\n              breakpoint: 1024,\n              settings: {\n                slidesToShow: 3,\n                slidesToScroll: 3,\n                infinite: true,\n                dots: true\n              }\n            },\n            {\n              breakpoint: 600,\n              settings: {\n                slidesToShow: 2,\n                slidesToScroll: 2,\n                initialSlide: 2\n              }\n            },\n            {\n              breakpoint: 480,\n              settings: {\n                slidesToShow: 3,\n                slidesToScroll: 3\n              }\n            }\n          ]\n    };\n\n    useEffect(() => {\n        // async function fetchData() {\n        //     const { data } = await api.get(`/category`);\n        //     setCategories(data);\n\n        //     if (!categoryActive.id) {\n        //         data[0].category_selected = true;\n        //         setCategoryActive(data[0]);\n        //     }\n        // }\n\n        // fetchData();\n\n        if (categories && !categoryActive.id) {\n            categories[0].category_selected = true;\n            setCategoryActive(categories[0]);\n        }        \n    }, []);\n\n    function selectCategory(category) {\n        if (category.products.length <= 0) return;\n        categories.map(cat => cat.category_selected = false);\n        \n        category.category_selected = true;\n        setCategoryActive(category);\n    }\n\n\n    return (\n        <>\n            <div className=\"navCategories mt-1 pt-4 pb-4\">\n                <Container>\n                    <h6 className=\"question\">O que deseja pedir hoje?</h6>\n\n                    <Slider {...settingsCarousel}>\n                        {categories.map(category =>\n                            <Card key={category.id} \n                                className={\n                                    `card text-center ${category.category_selected === true ? ' selected ' : ''} \n                                    ${category.__meta__.products_count <= 0 ? 'inactive' : 'active' }`}\n                                onClick={() => selectCategory(category)}\n                            >\n                                <Card.Img variant=\"top\" src={category.image_url} />\n                                <Card.Body>\n                                    <Card.Title>{category.name} {} ({category.__meta__.products_count})</Card.Title>\n                                </Card.Body>\n                            </Card>\n                        )}\n                    </Slider>\n                </Container>\n            </div>\n\n            <Container>\n                {categoryActive && <Products products={categoryActive.products} />}\n            </Container>\n        </>\n    );\n\n}\n\nHome.getInitialProps = async ctx => {\n    const categories = await get('/category')\n    // const json = await res.json()\n    return { categories: categories }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}