{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{\"/i67\":function(e,a,t){\"use strict\";t.r(a);var n,o=t(\"azxR\"),r=t(\"UrUy\"),l=t.n(r),s=t(\"mXGw\"),i=t.n(s),u=t(\"/m4v\"),c=t(\"bBV7\"),d=t(\"2KSd\"),m=t(\"2y1a\"),p=t(\"X03H\"),b=t(\"K0Nx\"),f=t(\"NVeQ\"),v=t(\"ZYNW\"),h=t(\"Mfql\"),C=t(\"ug5E\"),g=t(\"/ncQ\"),y=t(\"N76A\"),O=i.a.createElement;a.default=Object(m.a)((n={mapPropsToValues:function(e){console.log(e)}},Object(o.a)(n,\"mapPropsToValues\",(function(e){return{id:\"\",name:\"\",email:\"\",phone:\"\",person_type:\"\",document:\"\"}})),Object(o.a)(n,\"validationSchema\",p.object().shape({name:p.string().required(\"Informe seu nome\").test(\"real\",\"Informe seu nome completo.\",(function(e){if(e)return!!e.split(\" \")[1]})),email:p.string().email(\"Informe um e-mail v\\xe1lido\").required(\"Informe seu e-mail\"),phone:p.string().required(\"Esse campo \\xe9 obrigat\\xf3rio\"),document:p.string().required(\"Esse campo \\xe9 obrigat\\xf3rio\")})),Object(o.a)(n,\"handleSubmit\",(function(e,a){var t,n,o,r;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=a.setSubmitting,n=a.setErrors,a.props,o=a.setStatus,s.prev=1,t(!0),s.next=5,l.a.awrap(Object(g.c)(\"/profile/\".concat(e.id),e));case 5:(r=s.sent).success&&(t(!1),o({success:!0,data:e})),r.validations&&r.validations.map((function(e){var a={};a[e.field]=e.message,n(a)})),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log(s.t0),n({error:\"N\\xe3o foi poss\\xedvel salvar os dados. Tente novamente.\"});case 14:case\"end\":return s.stop()}}),null,null,[[1,10]])})),n))((function(e){var a=Object(u.c)((function(e){return e.auth})),t=a.user,n=(a.isLogged,Object(c.useRouter)()),o=Object(u.b)();return Object(s.useEffect)((function(){e.status&&e.status.success&&(o(Object(y.d)(e.status.data)),d.b.success(\"Dados atualizados com sucesso!\",{position:d.b.POSITION.BOTTOM_CENTER}),n.push(\"/account\"))}),[e.status]),Object(s.useEffect)((function(){e.setFieldValue(\"id\",t.id),e.setFieldValue(\"name\",t.name),e.setFieldValue(\"email\",t.email),e.setFieldValue(\"phone\",t.phone),e.setFieldValue(\"person_type\",t.person_type),e.setFieldValue(\"document\",t.document)}),[]),O(C.a,{title:\"Minha Conta\",crumbs:[{name:\"Minha Conta\"}]},O(h.a,{pageTitle:\"Minha Conta\"},O(b.a,{onSubmit:e.handleSubmit},e.errors.error&&O(f.a,{variant:\"danger\"},O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.error)),O(b.a.Group,{controlId:\"formName\"},O(b.a.Label,null,\"Nome\"),O(b.a.Control,{type:\"text\",value:e.values.name,onChange:function(a){return e.setFieldValue(\"name\",a.target.value)},placeholder:\"Seu nome Completo\"}),e.touched.name&&e.errors.name&&O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.name)),O(b.a.Group,{controlId:\"formEmail\"},O(b.a.Label,null,\"E-mail\"),O(b.a.Control,{type:\"email\",value:e.values.email,onChange:function(a){return e.setFieldValue(\"email\",a.target.value)},placeholder:\"E-mail\"}),e.touched.email&&e.errors.email&&O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.email)),O(b.a.Group,{controlId:\"formPhone\"},O(b.a.Label,null,\"Celular\"),O(b.a.Control,{type:\"text\",value:e.values.phone,onChange:function(a){return e.setFieldValue(\"phone\",a.target.value)},placeholder:\"Celular\"}),e.touched.phone&&e.errors.phone&&O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.phone)),O(b.a.Group,{controlId:\"formPersonType\"},O(b.a.Label,null,\"Tipo de Pessoa\"),O(b.a.Control,{as:\"select\",value:e.values.person_type,onChange:function(a){return e.setFieldValue(\"person_type\",a.target.value)}},O(\"option\",{value:\"individual\"},\"Pessoa F\\xedsica\"),O(\"option\",{value:\"legal\"},\"Pessoa Jur\\xeddica\")),e.touched.person_type&&e.errors.person_type&&O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.person_type)),O(b.a.Group,{controlId:\"formDocument\"},O(b.a.Label,null,\"legal\"===e.values.person_type?\"CNPJ\":\"CPF\"),O(b.a.Control,{type:\"text\",value:e.values.document,onChange:function(a){return e.setFieldValue(\"document\",a.target.value)},placeholder:\"legal\"===e.values.person_type?\"CNPJ\":\"CPF\"}),e.touched.document&&e.errors.document&&O(b.a.Control.Feedback,{type:\"invalid\"},e.errors.document)),O(\"div\",{className:\"mt-3 mb-5 d-flex justify-content-end\"},O(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Salvar\",O(\"i\",{className:\"fas fa-disk\"}),e.isSubmitting&&O(v.a,null))))))}))},HG2P:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/edit\",function(){return t(\"/i67\")}])},NVeQ:function(e,a,t){\"use strict\";var n=t(\"Fcif\"),o=t(\"+I+c\"),r=t(\"8Jek\"),l=t.n(r),s=t(\"mXGw\"),i=t.n(s),u=t(\"xi7J\"),c=t(\"LIdw\"),d=t(\"skzL\"),m=t(\"kTm/\"),p=t(\"HCZ3\"),b=t(\"chUi\"),f=t(\"utF2\"),v=t(\"LToT\"),h={show:!0,transition:b.a,closeLabel:\"Close alert\"},C={show:\"onClose\"},g=i.a.forwardRef((function(e,a){var t=Object(u.b)(e,C),r=t.bsPrefix,s=t.show,d=t.closeLabel,m=t.className,b=t.children,v=t.variant,h=t.onClose,g=t.dismissible,y=t.transition,O=Object(o.a)(t,[\"bsPrefix\",\"show\",\"closeLabel\",\"className\",\"children\",\"variant\",\"onClose\",\"dismissible\",\"transition\"]),j=Object(p.b)(r,\"alert\"),F=Object(c.a)((function(e){h(!1,e)})),N=i.a.createElement(\"div\",Object(n.a)({role:\"alert\"},y?O:void 0,{className:l()(m,j,v&&j+\"-\"+v,g&&j+\"-dismissible\")}),g&&i.a.createElement(f.a,{onClick:F,label:d}),b);return y?i.a.createElement(y,Object(n.a)({unmountOnExit:!0,ref:a},O,{in:s}),N):s?N:null})),y=Object(m.a)(\"h4\");y.displayName=\"DivStyledAsH4\",g.displayName=\"Alert\",g.defaultProps=h,g.Link=Object(d.a)(\"alert-link\",{Component:v.a}),g.Heading=Object(d.a)(\"alert-heading\",{Component:y}),a.a=g},azxR:function(e,a,t){\"use strict\";t.d(a,\"a\",(function(){return r}));var n=t(\"hHgk\"),o=t.n(n);function r(e,a,t){return a in e?o()(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}}},[[\"HG2P\",0,1,63,64,65,66,67,68,69,70,71,72,76]]]);"}